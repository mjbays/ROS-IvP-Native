FILE(GLOB SRC *.cpp)

OPTION(IVP_BUILD_@PROGNAME@ "Build program @PROGNAME@" @IVP_BUILD_BY_DEFAULT@)

IF("${IVP_BUILD_@PROGNAME@}" STREQUAL "ON")
   ADD_EXECUTABLE(@PROGNAME@ ${SRC})
   
   TARGET_LINK_LIBRARIES(@PROGNAME@ @LINK_LIBS@)

   IF("${IVP_PACKAGE_VERSION}" STREQUAL "")
      MESSAGE(STATUS "@PROGNAME@: IVP_PACKAGE_VERSION not set, so not creating install component.")
   ELSE("${IVP_PACKAGE_VERSION}" STREQUAL "")
      INSTALL(
         TARGETS @PROGNAME@
         DESTINATION bin/ivp-${IVP_PACKAGE_VERSION}
         COMPONENT @IVP_INSTALL_COMPONENT@)
   ENDIF("${IVP_PACKAGE_VERSION}" STREQUAL "")

ENDIF("${IVP_BUILD_@PROGNAME@}" STREQUAL "ON")